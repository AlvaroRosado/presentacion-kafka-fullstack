{% extends 'base.html.twig' %}

{% block title %}Sesión iniciada{% endblock %}

{% block body %}
    <div class="min-h-screen w-full flex items-center justify-center bg-base-200">
        <div class="w-full max-w-sm p-6 bg-base-100 rounded-xl shadow-lg text-center">

            <div class="flex justify-center mb-6">
                <img alt="logo-light" class="h-8 dark:hidden" src="{{ asset('images/logo/logo-light.png') }}">
                <img alt="logo-dark" class="hidden h-8 dark:inline" src="{{ asset('images/logo/logo-dark.png') }}">
            </div>

            <div class="flex justify-center">
                <div class="rounded-full bg-success/10 p-4">
                    <svg class="w-12 h-12 text-success" fill="none" stroke="currentColor" stroke-width="2"
                         viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round"
                              d="M5 13l4 4L19 7"></path>
                    </svg>
                </div>
            </div>

            <h2 class="text-lg font-semibold mt-4">Sesión iniciada</h2>
            <p class="text-sm text-base-content/70 mt-2">
                Te has autenticado correctamente.<br>
                Puedes cerrar esta ventana.
            </p>

            <button class="btn btn-success w-full mt-6" onclick="window.close()">
                Cerrar ventana
            </button>

        </div>
    </div>

    <script>
        if (window.opener) {
            window.opener.postMessage({
                type: 'LOGIN_SUCCESS'
            }, '*');
        }

        setTimeout(() => {
            window.close();
        }, 600);
    </script>
{% endblock %}
